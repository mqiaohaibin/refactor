一个函数包含了太多的代码行，做了很多不同的事情。

## 原因

过长函数通常发生在一个复杂功能的实现。由于本身实现复杂，编写代码比阅读代码更容易，任何新的需求都会在原有函数里添加，直到函数包含了太多的代码。

## 问题

函数过长会令程序变得难以理解，需要花费大量的时间去理解函数在做什么，这样无形中增加了维护成本和发生bug的几率。

## 优化

函数越长越难以理解。将过长的函数进行分割，每个子函数只做一件事情，起一个见名知义的子函数名字。过长的函数就变成阅读语句一样轻松，更容易理解过长函数的含义。

如果进行分割呢？

* 注释

	一个很好的技巧是：寻找注释。如果代码前方有一行注释，就是在提醒你：可以将这段代码替换成一个子函数。就算只有一行代码，如果它需要注释来说明，那也值得将它分割到一个子函数中去。
	
	通常只需要使用 **_Extract Method_** ，提炼出来形成一个新函数。
	
	> * 如果有大量的临时变量阻碍提炼子函数，可以采用 **_Replace Temp with Query_** 消除临时变量
	> * **_Introduce Parameter Object_** 和 **_Preserve Whole Object_** 可以将过长的参数列变得简洁些
	> * 若参数还是过长，可以使用杀手锏： **_Replace Method with Method Object_**

* 条件表达式和循环表达式

	条件表达式和循环表达式常常也是分割的信号。使用 **_Decompose Conditional_** 的方法处理条件表达式，对于循环将其提炼到一个独立函数中。
