如果在一个以上的地点看到相同的程序代码，那么可以肯定：设法将它们合而为一，程序会变得更好。

## 原因

重复代码通常发生在多个程序员在同一个程序的不同部分工作时，由于处理不同的任务，它们可能不知道其他程序员已经写了类似的代码。当代码使用不同的算法却执行相同的工作时，这是更微妙的重复。这种重复可能很难找到和修复。

有时重复是有目的的，当急于按时完成工作，现有的代码几乎是正确的时候，新手程序员可能无法抵制复制和粘贴相关代码的诱惑。而且在某些情况下，程序员懒地处理这种混乱的代码。

## 问题

假设重复的代码足够的稳定且永久不变，这样的重复也许不会带来问题。但是软件最不稳定的就是需求变化，那么你就要花时间去修改所有重复代码，这样无形中增加了维护成本和发生bug的几率。

## 优化

* 同一个类中存在相同的程序代码

	采用 **_Extract Method_** 提炼出重复的代码，然后调用被提炼出来的代码。

* 两个子类中存在相同的程序代码

	需要对这两个子类都采用 **_Extract Method_** ，然后再对被提炼出来的代码使用 **_Pull Up Method_** ，将它推入父类。

	特殊地，若代码之间只是类似，并非完全相同。一般常见相似代码都以相同的顺序执行大致的操作，但是操作不完全相同。在 **_Extract Method_** 中，将相似部分和差异部分隔开，构成单独一个函数，然后可以采用 **_Form Template Method_** 获得一个 **_Template Method_** 设计模式。

* 互不相干的两个类中出现相同的程序代码

	应该考虑对其中一个使用 **_Extract Class_** ，将重复代码提炼到一个独立类中，然后在另一个类内使用这个新类。
